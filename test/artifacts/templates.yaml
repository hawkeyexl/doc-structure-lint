markdown-structure-lint: 1.0.0
info:
  title: Manny's Sample Templates
  version: 1.0.0

templates:                            # Array of templates, each with a unique key
- How-to:                             # Initial template definition correspondings to the H1 level of the document
    description: A template for how-to guides that include prerequisites, setup, usage, troubleshooting, and next steps sections.
    paragraphs:
      min: 2
      max: 5
    sections:                         # Array of sections, each with a unique key
    - Prerequisites:                  # Each section corresponds to a heading level one below the parent, in this case Prerequisites is an H2
        title: Prerequisites          # Require the section to be titled "Prerequisites"
        paragraphs:
          max: 3
    - Setup:
        paragraphs:
          max: 5                      # Allow a maximum of 5 paragraphs
    - Usage:
        paragraphs:
          min: 1
          max: 3
        code_blocks:
          min: 1                      # Require at least one code block
        additional_sections: true     # Allow additional use case sections
        sections:
        - Use case n:                 # An H3 with no requirements/restrictions
        - Troubleshooting:
            title: Troubleshooting    # Require the section to be titled "Troubleshooting"
            paragraphs:
              min: 1
              max: 3
    - Next steps:
        title: Next steps             # Back to an H2 level section
        required: false               # Allow the section to be omitted
        paragraphs:
          min: 1
        


components:
  schemas:
    Section:
      description: A section of a document
      type: object
      properties:
        description:
          description: Description of the section
          type: string
        title:
          description: Title of the section
          type: string
        required:
          description: Whether the section is required
          type: boolean
          default: true
        paragraphs:
          type: object
          properties:
            min:
              description: Minimum number of paragraphs
              type: integer
              minimum: 0
            max:
              description: Maximum number of paragraphs
              type: integer
        code_blocks:
          description: Code block requirements
          type: object
          properties:
            min:
              description: Minimum number of code blocks
              type: integer
              minimum: 0
            max:
              description: Maximum number of code blocks
              type: integer
        additional_sections:
          description: Allow undefined sections
          type: boolean
          default: false
        sections:
          description: Array of subsections
          type: array
          items:
            $ref: "#/components/schemas/Section"